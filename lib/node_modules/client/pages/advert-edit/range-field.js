var range = require('range');

module.exports = function Range (field) {
    field.hookSetter(function (val) {
        if (typeof val == 'string') {
            try {
                val = range.parse(val);
            }
            catch (e) {
                field.msg('error', e.message);
                throw e;
            }
        }
        field.msg.clear();
        return val;
    });
}
