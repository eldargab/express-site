var P = require('ports');

module.exports = function init (p) {
    window.F = {};
    
    $('*', p.el).ports(window.F);

    p._show();   
}

function Form () {
    this.rent = new Advert;
    this.sale = new Advert;
}

function Advert () {
    this.available = P.property(false);
}

function Model () { }

Model.prototype.hasErrors = function () {
    for (var key in this) {
        var prop = this[key];
        if (prop.msg && prop.msg.type() == 'error') return true;
        if (prop.hasErrors && prop.hasErrors()) return true;
    }
    return false;
}
