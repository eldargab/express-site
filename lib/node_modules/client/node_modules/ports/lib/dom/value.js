var P = require('../port');

module.exports = function valuePort (element) {
    var $el = $(element);
    var events = Object.create(Backbone.Events);
    var setter, getter;

    $el.on('change', function () {
        events.trigger('change');
    });

    var type = element.type;
    if (type == 'checkbox' || type == 'radio') {
        setter = function (val) { element.checked = val };
        getter = function () { return element.checked };
    }
    else {
        setter = function (val) { $el.val(val) }
        getter = function () { return $el.val() }
    }

    return P.createListenable(setter, getter, events);
}
