var P = require('..');

module.exports = function valuePort (element) {
    var $el = $(element);
    var setter, getter, port;

    $el.on('change', function () {
        port.onchange();
    });

    var type = element.type;
    if (type == 'checkbox' || type == 'radio') {
        setter = function (val) { element.checked = val };
        getter = function () { return element.checked };
    }
    else {
        setter = function (val) { $el.val(val) }
        getter = function () { return $el.val() }
    }

    port = P.listenable(setter, getter);
    return port;
}
