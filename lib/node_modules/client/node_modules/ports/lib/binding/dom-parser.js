var parse = require('./spec-parser');

module.exports = function domParser (visit) {
    return function parseElement (el) {
        var spec = el.getAttribute('data-ports');
        if (!spec) return;

        parse(spec).forEach(function (p) {
            visit(el, p);
        });
    }
}
