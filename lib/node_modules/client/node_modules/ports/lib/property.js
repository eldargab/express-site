var P = require('./port');

module.exports = function propertyPort (initialValue, setter, getter) {
    var events = Object.create(Backbone.Events);
    var _val = initialValue;
    
    return P.createListenable(
        function set (val) {
            if (_val === val) return;
            _val = val;
            events.trigger('change');
        },
        function get () {
            return _val;
        },
        events
    );
}

function passThrough (val) {
    return val;
}
