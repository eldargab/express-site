var parse = require('../lib/binding/spec-parser');
var should = require('should');

describe('Binding attribute parser', function () {
    it('test', function () {
        parse('css-available enabled|not : model.notAvailable, value: value')
            .should.eql([
                {
                    type: 'css',
                    param: 'available enabled',
                    filters: ['not'],
                    path: 'model.notAvailable'
                },
                {
                    type: 'value',
                    param: undefined,
                    filters: [],
                    path: 'value'
                }
            ]);
    });

    it('Always returns array', function () {
        parse('').should.eql([]);
    });

    it('Trims filters, path, and `type-param`', function () {
        parse(' type-param  | f1 | f2 | f3  : path ')[0].should.eql({
            type: 'type',
            param: 'param',
            filters: ['f1', 'f2', 'f3'],
            path: 'path'
        });
    });

    // Just documentation test case
    it('Never throws exceptions', function () {
        parse(' , , ||asas');
    });
});

